

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="Web APIs 第三天 Dom事件进阶一、事件流1. 事件流与两个阶段说明事件流是对事件执行过程的描述，了解事件的执行过程有助于加深对事件的理解，提升开发实践中对事件运用的灵活度。  2. 事件捕获 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354">
<meta property="og:type" content="website">
<meta property="og:title" content="Web API 第三天">
<meta property="og:url" content="http://example.com/Web-API/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.html">
<meta property="og:site_name" content="每日笔记">
<meta property="og:description" content="Web APIs 第三天 Dom事件进阶一、事件流1. 事件流与两个阶段说明事件流是对事件执行过程的描述，了解事件的执行过程有助于加深对事件的理解，提升开发实践中对事件运用的灵活度。  2. 事件捕获 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095003900.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095134552.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095428673.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095510501.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095526566.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095635329.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095645826.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095731286.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095754867.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100012357.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100035905.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100200845.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100253731.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100302534.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100314425.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100703556.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100710148.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100746766.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100758997.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100808989.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726101144239.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726101206200.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726101212785.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726101407377.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726101535488.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102025355.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102055628.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102245644.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102257277.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102328027.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102509123.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102729656.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102813006.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102856105.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726103302806.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726103309022.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726103318320.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726103325763.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726103331737.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726103340941.png">
<meta property="og:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726103436472.png">
<meta property="article:published_time" content="2022-09-16T06:10:53.967Z">
<meta property="article:modified_time" content="2022-09-16T06:10:53.967Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095003900.png">
  
  
  
  <title>Web API 第三天 - 每日笔记</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />





<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.3","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 60vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Web API 第三天"></span>
          
        </div>

        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      <div class="container nopadding-x-md">
        <div id="board"
          >
          
          <div class="container">
            <div class="row">
              <div class="col-12 col-md-10 m-auto">
                

<article class="page-content">
  <h1 id="Web-APIs-第三天-Dom事件进阶"><a href="#Web-APIs-第三天-Dom事件进阶" class="headerlink" title="Web APIs 第三天 Dom事件进阶"></a>Web APIs 第三天 Dom事件进阶</h1><h2 id="一、事件流"><a href="#一、事件流" class="headerlink" title="一、事件流"></a>一、事件流</h2><h3 id="1-事件流与两个阶段说明"><a href="#1-事件流与两个阶段说明" class="headerlink" title="1. 事件流与两个阶段说明"></a>1. 事件流与两个阶段说明</h3><p>事件流是对事件执行过程的描述，了解事件的执行过程有助于加深对事件的理解，提升开发实践中对事件运用的灵活度。</p>
<p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095003900.png" srcset="/img/loading.gif" lazyload alt="image-20220726095003900"></p>
<h3 id="2-事件捕获"><a href="#2-事件捕获" class="headerlink" title="2. 事件捕获"></a>2. 事件捕获</h3><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095134552.png" srcset="/img/loading.gif" lazyload alt="image-20220726095134552"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.father</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">background-color</span>: pink;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.son</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">background-color</span>: purple;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;father&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;son&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 1. 概念 </span></span><br><span class="language-javascript">    <span class="hljs-comment">// 事件流 指的是 事件完整执行过程中的流动路径.</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 描述的是 元素在页面中接收事件的顺序.</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// Eg1. 北京的朋友来成都请我吃饭</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 四川 成都 金牛区 目标(我) 捕获阶段</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 找到目标了 达到目标阶段(处于目标阶段)</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 金牛 成都  四川  (回去了)   冒泡阶段 </span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// Eg2. 抓鱼 跳到水里去抓鱼 </span></span><br><span class="language-javascript">    <span class="hljs-comment">// 从外到内, 跳到水里去  </span></span><br><span class="language-javascript">    <span class="hljs-comment">// 抓到鱼了 </span></span><br><span class="language-javascript">    <span class="hljs-comment">// 鱼冒泡泡   冒泡阶段 (从内到外)</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// Eg.3 联想按压手机屏幕, 从外层钢化膜,到内部传感器, 这个按压事件, 有一个传播的过程, 顺序.</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 2. DOM事件流三个阶段 </span></span><br><span class="language-javascript">    <span class="hljs-comment">// 1. 捕获阶段  (从外到内)</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 2. 达到目标阶段 </span></span><br><span class="language-javascript">    <span class="hljs-comment">// 3. 冒泡阶段  (从内到外)</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// addEvenListener 有三个参数, 第三个参数 我们一般省略, 默认为false</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 如果第三个参数 传 true , 表示 使用捕获!</span></span><br><span class="language-javascript">    <span class="hljs-comment">// useCapture 是一个boolean值, true / false</span></span><br><span class="language-javascript">    <span class="hljs-comment">// target.addEventListener(type, listener, useCapture)</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> son = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.son&#x27;</span>)</span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> father = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.father&#x27;</span>)</span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> body = <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> html = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 事件捕获：document  -&gt;  html -&gt; body -&gt; father -&gt; son</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 事件捕获：addEventListener第三参数为 true</span></span><br><span class="language-javascript">    son.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;我是子盒子,我被点击了&#x27;</span>)</span><br><span class="language-javascript">    &#125;, <span class="hljs-literal">true</span>)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    father.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;我是父盒子, 我被点击了&#x27;</span>)</span><br><span class="language-javascript">    &#125;, <span class="hljs-literal">true</span>)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    body.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;我是body, 我被点击了&#x27;</span>)</span><br><span class="language-javascript">    &#125;, <span class="hljs-literal">true</span>)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    html.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;我是html, 我被点击了&#x27;</span>)</span><br><span class="language-javascript">    &#125;, <span class="hljs-literal">true</span>)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;我是document, 我被点击了&#x27;</span>)</span><br><span class="language-javascript">    &#125;, <span class="hljs-literal">true</span>)</span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="3-事件冒泡"><a href="#3-事件冒泡" class="headerlink" title="3. 事件冒泡"></a>3. 事件冒泡</h3><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095428673.png" srcset="/img/loading.gif" lazyload alt="image-20220726095428673"></p>
<h3 id="4-阻止冒泡"><a href="#4-阻止冒泡" class="headerlink" title="4. 阻止冒泡"></a>4. 阻止冒泡</h3><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095510501.png" srcset="/img/loading.gif" lazyload alt="image-20220726095510501"></p>
<p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095526566.png" srcset="/img/loading.gif" lazyload alt="image-20220726095526566"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.father</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">background-color</span>: pink;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.son</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">background-color</span>: purple;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;father&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;son&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 事件冒泡</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 事件从最具体的元素（文档树中最深的节点）开始触发，然后向上传播至没有那么具体的元素（文档）(---JS高程)</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 事件冒泡： son -&gt;  father -&gt; body -&gt; html -&gt; document</span></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> son = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.son&#x27;</span>)</span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> father = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.father&#x27;</span>)</span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> body = <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> html = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 事件冒泡：addEventListener第三个参数省略，或者为false</span></span><br><span class="language-javascript">    son.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;我是子盒子,我被点击了&#x27;</span>)</span><br><span class="language-javascript">        </span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    father.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;</span><br><span class="language-javascript">        </span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;我是父盒子, 我被点击了&#x27;</span>)</span><br><span class="language-javascript">        e.<span class="hljs-title function_">stopPropagation</span>()</span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    body.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;我是body, 我被点击了&#x27;</span>)</span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    html.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;我是html, 我被点击了&#x27;</span>)</span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;我是document, 我被点击了&#x27;</span>)</span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 默认就是 事件冒泡, </span></span><br><span class="language-javascript">    <span class="hljs-comment">// 事件的传播方式: 要么是事件捕获, 要么是事件冒泡</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 1. 阻止事件冒泡:</span></span><br><span class="language-javascript">    <span class="hljs-comment">//      e.stopPropagation() </span></span><br><span class="language-javascript">    <span class="hljs-comment">// 它阻止事件冒泡, 阻止的是事件的传播,</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 不会阻碍函数内代码的执行.</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 前提, 需要先写上 e 事件对象.</span></span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="5-解绑事件"><a href="#5-解绑事件" class="headerlink" title="5. 解绑事件"></a>5. 解绑事件</h3><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095635329.png" srcset="/img/loading.gif" lazyload alt="image-20220726095635329"></p>
<p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095645826.png" srcset="/img/loading.gif" lazyload alt="image-20220726095645826"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>点击<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 事件解绑</span></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;button&#x27;</span>)</span><br><span class="language-javascript">    <span class="hljs-comment">// 1. 传统的方式</span></span><br><span class="language-javascript">    <span class="hljs-comment">// btn.onclick = function()&#123;</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   console.log(&#x27;不要犯困哈~~&#x27;)</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   // 传统的方式, 事件解绑</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   btn.onclick = null</span></span><br><span class="language-javascript">    <span class="hljs-comment">// &#125;</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 2. 监听的方式</span></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> fn = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;事件监听的方式&#x27;</span>)</span><br><span class="language-javascript"></span><br><span class="language-javascript">      btn.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, fn)</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">    btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, fn)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// btn.removeEventListener(&#x27;click&#x27;, fn)</span></span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 3.注意 匿名函数, 无法解绑</span></span><br><span class="language-javascript">    <span class="hljs-comment">// btn.addEventListener(&#x27;click&#x27;, function()&#123;</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   console.log(&#x27;哇哈哈哈&#x27;)</span></span><br><span class="language-javascript">    <span class="hljs-comment">// &#125;)</span></span><br><span class="language-javascript">    <span class="hljs-comment">// // </span></span><br><span class="language-javascript">    <span class="hljs-comment">// btn.removeEventListener(&#x27;click&#x27;, fn)</span></span><br><span class="language-javascript">   </span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 4. 定义的函数的两种 </span></span><br><span class="language-javascript">    <span class="hljs-comment">// 变量提示, 函数提升, 预解析</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 声明式</span></span><br><span class="language-javascript">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>)</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">    btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, foo)</span><br><span class="language-javascript">    <span class="hljs-comment">// 表达式</span></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> bar = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>)</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">    btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, bar)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    </span><br><span class="language-javascript">    <span class="hljs-comment">// 结论， </span></span><br><span class="language-javascript">    <span class="hljs-comment">// 1. 表达式方式 定义的函数， 一定要写在调用的前面。</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 2. 用声明式定义的函数， 可以写在调用的后面，但是，还是建议，写在调用的前面</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="6-鼠标经过事件的区别"><a href="#6-鼠标经过事件的区别" class="headerlink" title="6. 鼠标经过事件的区别"></a>6. 鼠标经过事件的区别</h3><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095731286.png" srcset="/img/loading.gif" lazyload alt="image-20220726095731286"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.dad</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">height</span>: <span class="hljs-number">400px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">background-color</span>: pink;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.baby</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">background-color</span>: purple;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;dad&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;baby&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// mouseenter / mouseleave 鼠标经过/鼠标离开</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 没有事件冒泡</span></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> dad = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.dad&#x27;</span>)</span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> baby = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.baby&#x27;</span>)</span><br><span class="language-javascript">    <span class="hljs-comment">// dad.addEventListener(&#x27;mouseenter&#x27;, function()&#123;</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   console.log(&#x27;鼠标经过了&#x27;)</span></span><br><span class="language-javascript">    <span class="hljs-comment">// &#125;)</span></span><br><span class="language-javascript">    <span class="hljs-comment">// dad.addEventListener(&#x27;mouseleave&#x27;, function()&#123;</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   console.log(&#x27;鼠标离开了&#x27;)</span></span><br><span class="language-javascript">    <span class="hljs-comment">// &#125;)</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// mouseover / mouseout  鼠标经过 / 鼠标离开 </span></span><br><span class="language-javascript">    <span class="hljs-comment">// 他们有事件冒泡, 也就是 </span></span><br><span class="language-javascript">    <span class="hljs-comment">// 当鼠标经过到son盒子的时候, son盒子接收到鼠标经过事件, </span></span><br><span class="language-javascript">    <span class="hljs-comment">// 然后这个事件又会向上传播, dady这个盒子 也能监听到鼠标经过事件.</span></span><br><span class="language-javascript">    dad.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;mouseover&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;鼠标经过了&#x27;</span>)</span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript">    dad.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;mouseout&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;鼠标离开了&#x27;</span>)</span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 两种方式 , 都可以用. 推荐用mouseenter / mouseleave </span></span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h3 id="7-两种注册事件的区别"><a href="#7-两种注册事件的区别" class="headerlink" title="7. 两种注册事件的区别"></a>7. 两种注册事件的区别</h3><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726095754867.png" srcset="/img/loading.gif" lazyload alt="image-20220726095754867"></p>
<h2 id="二、事件委托"><a href="#二、事件委托" class="headerlink" title="二、事件委托"></a>二、事件委托</h2><h3 id="1-事件委托的好处"><a href="#1-事件委托的好处" class="headerlink" title="1.事件委托的好处"></a>1.事件委托的好处</h3><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100012357.png" srcset="/img/loading.gif" lazyload alt="image-20220726100012357"></p>
<h3 id="2-总结"><a href="#2-总结" class="headerlink" title="2.总结"></a>2.总结</h3><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100035905.png" srcset="/img/loading.gif" lazyload alt="image-20220726100035905"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>第1个孩子<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>第2个孩子<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>第3个孩子<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>第4个孩子<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>第5个孩子<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>我不需要变色<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 鼠标点击li标签, 给当前的那个li标签, 改变字体颜色</span></span><br><span class="language-javascript">    <span class="hljs-comment">// const lis = document.querySelectorAll(&#x27;li&#x27;)</span></span><br><span class="language-javascript">    <span class="hljs-comment">// for (let i = 0; i &lt; lis.length; i++) &#123;</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   lis[i].addEventListener(&#x27;click&#x27;, function()&#123;</span></span><br><span class="language-javascript">    <span class="hljs-comment">//     console.log(this) // 指向的是当前的那个li标签</span></span><br><span class="language-javascript">    <span class="hljs-comment">//     this.style.color = &#x27;orange&#x27;</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   &#125;)</span></span><br><span class="language-javascript">    <span class="hljs-comment">// &#125; </span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 事件委托: 把事件委托给父元素, 代为处理</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 1. 先获取公共的父元素</span></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> ul = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;ul&#x27;</span>)</span><br><span class="language-javascript">    <span class="hljs-comment">// 2. 给父元素绑定事件</span></span><br><span class="language-javascript">    ul.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;</span><br><span class="language-javascript">      <span class="hljs-comment">// console.log(this) // ul</span></span><br><span class="language-javascript">      <span class="hljs-comment">// 重要： e.target </span></span><br><span class="language-javascript">      <span class="hljs-comment">// e.target  当前触发事件的元素  点的谁，e.target代表谁</span></span><br><span class="language-javascript">      <span class="hljs-comment">// this   绑定事件的元素 </span></span><br><span class="language-javascript">      <span class="hljs-comment">// e.currentTarget  绑定事件的元素</span></span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e.<span class="hljs-property">currentTarget</span> === <span class="hljs-variable language_">this</span>)</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-comment">// 点击li标签， li标签就是目标元素， 它先接受到点击事件，</span></span><br><span class="language-javascript">      <span class="hljs-comment">// 然后这个点击事件， 有事件冒泡， 向上传播， ul也能接受到点击事件。</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-property">tagName</span> === <span class="hljs-string">&#x27;LI&#x27;</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">dir</span>(e.<span class="hljs-property">target</span>) <span class="hljs-comment">// 打印一个对象的所有属性和方法</span></span><br><span class="language-javascript">        e.<span class="hljs-property">target</span>.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">&#x27;orange&#x27;</span></span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 背下来！</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 1. 事件委托的原理</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 利用事件冒泡，将事件监听绑定到父元素上， 通过父元素来监听子元素的事件。</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 2. 事件委托的好处</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 减少事件注册的次数， 提高程序性能</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// e.target 触发事件的元素</span></span><br><span class="language-javascript">    <span class="hljs-comment">// this  绑定事件的元素</span></span><br><span class="language-javascript">    <span class="hljs-comment">// e.currentTarget 同this</span></span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="3-案例"><a href="#3-案例" class="headerlink" title="3.案例"></a>3.案例</h3><h4 id="3-1-tab栏切换改造"><a href="#3-1-tab栏切换改造" class="headerlink" title="3.1 tab栏切换改造"></a>3.1 tab栏切换改造</h4><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100200845.png" srcset="/img/loading.gif" lazyload alt="image-20220726100200845"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>tab栏切换<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    * &#123;</span><br><span class="language-css">      <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">      <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.tab</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">width</span>: <span class="hljs-number">590px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">height</span>: <span class="hljs-number">340px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#e4e4e4</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.tab-nav</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">      <span class="hljs-attribute">height</span>: <span class="hljs-number">60px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">line-height</span>: <span class="hljs-number">60px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">      <span class="hljs-attribute">justify-content</span>: space-between;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.tab-nav</span> <span class="hljs-selector-tag">h3</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">font-weight</span>: normal;</span><br><span class="language-css">      <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.tab-nav</span> <span class="hljs-selector-tag">ul</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">list-style</span>: none;</span><br><span class="language-css">      <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">      <span class="hljs-attribute">justify-content</span>: flex-end;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.tab-nav</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">20px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.tab-nav</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">a</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">text-decoration</span>: none;</span><br><span class="language-css">      <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">2px</span> solid transparent;</span><br><span class="language-css">      <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.tab-nav</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.active</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#e1251b</span>;</span><br><span class="language-css">      <span class="hljs-attribute">color</span>: <span class="hljs-number">#e1251b</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.tab-content</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">16px</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.tab-content</span> <span class="hljs-selector-class">.item</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">display</span>: none;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.tab-content</span> <span class="hljs-selector-class">.item</span><span class="hljs-selector-class">.active</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">display</span>: block;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tab&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tab-nav&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>每日特价<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;active&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span> <span class="hljs-attr">data-id</span>=<span class="hljs-string">&quot;0&quot;</span>&gt;</span>精选<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span> <span class="hljs-attr">data-id</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span>美食<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span> <span class="hljs-attr">data-id</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span>百货<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span> <span class="hljs-attr">data-id</span>=<span class="hljs-string">&quot;3&quot;</span>&gt;</span>个护<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span> <span class="hljs-attr">data-id</span>=<span class="hljs-string">&quot;4&quot;</span>&gt;</span>预告<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tab-content&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item active&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./images/tab00.png&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./images/tab01.png&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./images/tab02.png&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./images/tab03.png&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./images/tab04.png&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 1. 获取ul 父元素</span></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> ul = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.tab-nav ul&#x27;</span>)</span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> items = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;.item&#x27;</span>)</span><br><span class="language-javascript">    <span class="hljs-comment">// 2. 给父元素绑定事件</span></span><br><span class="language-javascript">    ul.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">dir</span>(e.<span class="hljs-property">target</span>)</span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e.<span class="hljs-property">target</span>)</span><br><span class="language-javascript">      <span class="hljs-comment">// 我们只有点击了 a 才会 进行后续的逻辑， 这里判断点的是不是a</span></span><br><span class="language-javascript">      <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-property">tagName</span> === <span class="hljs-string">&#x27;A&#x27;</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-comment">// 排他思想</span></span><br><span class="language-javascript">        <span class="hljs-comment">// 干掉别人， 先移除原来的active</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.tab-nav .active&#x27;</span>).<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;active&#x27;</span>)</span><br><span class="language-javascript">        <span class="hljs-comment">// 让当前点击的那个li 添加active</span></span><br><span class="language-javascript">        e.<span class="hljs-property">target</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;active&#x27;</span>)</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 下面大盒子显示 让对应的item 显示</span></span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> i = e.<span class="hljs-property">target</span>.<span class="hljs-property">dataset</span>.<span class="hljs-property">id</span> </span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i)</span><br><span class="language-javascript">        <span class="hljs-comment">// 干掉别人 移除类</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.tab-content .active&#x27;</span>).<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;active&#x27;</span>)</span><br><span class="language-javascript">        <span class="hljs-comment">// 给自己添加</span></span><br><span class="language-javascript">        items[i].<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;active&#x27;</span>)</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://www.itcast.cn&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;免费注册&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://www.baidu.com&quot;</span>&gt;</span>百度一下<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> form = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;form&#x27;</span>)</span><br><span class="language-javascript">      form.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;</span><br><span class="language-javascript">        <span class="hljs-comment">// 阻止默认行为</span></span><br><span class="language-javascript">        <span class="hljs-comment">// 现在阻止的是表单的默认点击提交的这个行为</span></span><br><span class="language-javascript">        e.<span class="hljs-title function_">preventDefault</span>()</span><br><span class="language-javascript">      &#125;)</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> a = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;a&#x27;</span>)</span><br><span class="language-javascript">      a.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;</span><br><span class="language-javascript">        <span class="hljs-comment">// 阻止 a标签, 点击后 默认跳转的行为</span></span><br><span class="language-javascript">        e.<span class="hljs-title function_">preventDefault</span>()</span><br><span class="language-javascript">      &#125;)</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-comment">// 阻止事件冒泡 : e.stopPropagation()</span></span><br><span class="language-javascript">      <span class="hljs-comment">// 阻止默认行为 : e.preventDefault()</span></span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h2 id="三、其他事件"><a href="#三、其他事件" class="headerlink" title="三、其他事件"></a>三、其他事件</h2><h3 id="1-页面加载事件"><a href="#1-页面加载事件" class="headerlink" title="1.页面加载事件"></a>1.页面加载事件</h3><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100253731.png" srcset="/img/loading.gif" lazyload alt="image-20220726100253731"></p>
<p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100302534.png" srcset="/img/loading.gif" lazyload alt="image-20220726100302534"></p>
<p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100314425.png" srcset="/img/loading.gif" lazyload alt="image-20220726100314425"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 1. 页面加载事件  load </span></span><br><span class="language-javascript">    <span class="hljs-comment">// 等待页面所有资源加载完毕, 就会去执行回调函数.</span></span><br><span class="language-javascript">    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;load&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-comment">// const btn = document.querySelector(&#x27;button&#x27;)</span></span><br><span class="language-javascript">      <span class="hljs-comment">// btn.addEventListener(&#x27;click&#x27;, function()&#123;</span></span><br><span class="language-javascript">      <span class="hljs-comment">//   console.log(&#x27;大家饿了吗?&#x27;)</span></span><br><span class="language-javascript">      <span class="hljs-comment">// &#125;)</span></span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 2. DOMContentLoaded</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 当DOM元素加载完成时, 就会去执行至回调函数. 不包括图片, 样式表等.</span></span><br><span class="language-javascript">    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;DOMContentLoaded&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">      <span class="hljs-comment">// const btn = document.querySelector(&#x27;button&#x27;)</span></span><br><span class="language-javascript">      <span class="hljs-comment">// btn.addEventListener(&#x27;click&#x27;, function()&#123;</span></span><br><span class="language-javascript">      <span class="hljs-comment">//   console.log(&#x27;大家饿了吗?&#x27;)</span></span><br><span class="language-javascript">      <span class="hljs-comment">// &#125;)</span></span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 1. window  load</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 2. document  DOMContentLoaded</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// DOM加载完了之后, 才是所有的资源加载完呀</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>点击<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 推荐 : js 写在body闭标签前面 </span></span><br><span class="language-javascript">    </span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="2-元素滚动事件"><a href="#2-元素滚动事件" class="headerlink" title="2.元素滚动事件"></a>2.元素滚动事件</h3><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100703556.png" srcset="/img/loading.gif" lazyload alt="image-20220726100703556"></p>
<p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100710148.png" srcset="/img/loading.gif" lazyload alt="image-20220726100710148"></p>
<h4 id="2-1-页面滚动事件-获取位置"><a href="#2-1-页面滚动事件-获取位置" class="headerlink" title="2.1 页面滚动事件-获取位置"></a>2.1 页面滚动事件-获取位置</h4><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100746766.png" srcset="/img/loading.gif" lazyload alt="image-20220726100746766"></p>
<p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100758997.png" srcset="/img/loading.gif" lazyload alt="image-20220726100758997"></p>
<p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726100808989.png" srcset="/img/loading.gif" lazyload alt="image-20220726100808989"></p>
<h4 id="2-2-页面滚动事件-滚动到指定的坐标"><a href="#2-2-页面滚动事件-滚动到指定的坐标" class="headerlink" title="2.2 页面滚动事件-滚动到指定的坐标"></a>2.2 页面滚动事件-滚动到指定的坐标</h4><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726101144239.png" srcset="/img/loading.gif" lazyload alt="image-20220726101144239"></p>
<h4 id="2-3-案例"><a href="#2-3-案例" class="headerlink" title="2.3 案例"></a>2.3 案例</h4><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726101206200.png" srcset="/img/loading.gif" lazyload alt="image-20220726101206200"></p>
<p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726101212785.png" srcset="/img/loading.gif" lazyload alt="image-20220726101212785"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-tag">body</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">height</span>: <span class="hljs-number">3000px</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-tag">div</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">display</span>: block;</span><br><span class="language-css">      <span class="hljs-attribute">margin</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">      <span class="hljs-comment">/* overflow: scroll; */</span></span><br><span class="language-css">      <span class="hljs-attribute">overflow-x</span>: hidden;</span><br><span class="language-css">      <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#000</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    我里面有很多很多的文字<br>    我里面有很多很多的文字<br>    我里面有很多很多的文字<br>    我里面有很多很多的文字<br>    我里面有很多很多的文字<br>    我里面有很多很多的文字<br>    我里面有很多很多的文字<br>    我里面有很多很多的文字<br>    我里面有很多很多的文字<br>    我里面有很多很多的文字<br>    我里面有很多很多的文字<br>    我里面有很多很多的文字<br>    我里面有很多很多的文字<br>    我里面有很多很多的文字<br><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;div&#x27;</span>)</span><br><span class="language-javascript">    <span class="hljs-comment">// 1. 页面滚动事件  scroll  (window/document)</span></span><br><span class="language-javascript">    <span class="hljs-comment">// window.addEventListener(&#x27;scroll&#x27;, function()&#123;</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   // 我想知道页面滚动了多少像素, 被卷去了多少</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   // scrollTop</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   // html标签 : document.documentElement</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   console.log(document.documentElement.scrollTop)</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">//   // 页面滚动的距离</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   const n = document.documentElement.scrollTop</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   // 当页面滚动的距离大于100px的时候, 让div显示</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   if (n &gt;= 200) &#123;</span></span><br><span class="language-javascript">    <span class="hljs-comment">//     div.style.display = &#x27;block&#x27;</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   &#125; else &#123;</span></span><br><span class="language-javascript">    <span class="hljs-comment">//     div.style.display = &#x27;none&#x27;</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   &#125;</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// &#125;)</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 2. 应用场景</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 我们想要页面滚动到某个位置, 就让某些元素显示或隐藏</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 这个时候, 就要用scroll事件来监听页面的滚动</span></span><br><span class="language-javascript">    </span><br><span class="language-javascript">    <span class="hljs-comment">// 3. 思考? 怎么知道某个元素滚动了多少距离呢?</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 元素被卷去的头部  </span></span><br><span class="language-javascript">    <span class="hljs-comment">// 元素.scrollTop  向上滚动,元素被卷去的头部  (常用)</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 元素.scrollLeft  向左滚动, 元素被卷去的左侧距离(用得少一些)</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 4. 对元素监听scroll事件</span></span><br><span class="language-javascript">    div.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;scroll&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(div.<span class="hljs-property">scrollTop</span>)</span><br><span class="language-javascript">      <span class="hljs-comment">// scrollTop 返回的是number 不带单位</span></span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(div.<span class="hljs-property">scrollHeight</span>)</span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="3-页面尺寸事件"><a href="#3-页面尺寸事件" class="headerlink" title="3. 页面尺寸事件"></a>3. 页面尺寸事件</h3><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726101407377.png" srcset="/img/loading.gif" lazyload alt="image-20220726101407377"></p>
<h4 id="3-1-页面尺寸事件-获取元素宽高"><a href="#3-1-页面尺寸事件-获取元素宽高" class="headerlink" title="3.1 页面尺寸事件-获取元素宽高"></a>3.1 页面尺寸事件-获取元素宽高</h4><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726101535488.png" srcset="/img/loading.gif" lazyload alt="image-20220726101535488"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-tag">div</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">display</span>: inline-block;</span><br><span class="language-css">      <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">background-color</span>: pink;</span><br><span class="language-css">      <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">border</span>: <span class="hljs-number">20px</span> solid red;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>123123123123123123123123123123123123123123123123123123123123123<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 1. resize事件 </span></span><br><span class="language-javascript">        <span class="hljs-comment">// 可以监听浏览器窗口大小发生变化的时候, 执行回调函数</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;resize&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;窗口大小变化了&#x27;</span>)</span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 2. clientWidth </span></span><br><span class="language-javascript">        <span class="hljs-comment">// 动态的获取元素的大小 clientWidth = width + padding ;  </span></span><br><span class="language-javascript">        <span class="hljs-comment">// 注意: 不包含border, 返回值不带单位</span></span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;div&#x27;</span>)</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(div.<span class="hljs-property">clientWidth</span>)</span><br><span class="language-javascript"></span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="3-1-1-案例"><a href="#3-1-1-案例" class="headerlink" title="3.1.1 案例"></a>3.1.1 案例</h4><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102025355.png" srcset="/img/loading.gif" lazyload alt="image-20220726102025355"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 小括号包含完整的function()&#123;&#125;() 刚讲的第一种写法</span><br>(<span class="hljs-keyword">function</span> <span class="hljs-title function_">flexible</span>(<span class="hljs-params"><span class="hljs-variable language_">window</span>, <span class="hljs-variable language_">document</span></span>) &#123;<br>    <span class="hljs-comment">// flexible.js 就是实时监听我们页面的大小,动态修改html根元素的字体大小</span><br><br>    <span class="hljs-comment">// 获取 html 根元素</span><br>    <span class="hljs-keyword">var</span> docEl = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>   <span class="hljs-comment">// html</span><br>    <br>    <span class="hljs-comment">// dpr 物理像素比, 是物理像素与逻辑像素的比 (DevicePixelRatio  [ˈreɪʃioʊ])</span><br>    <span class="hljs-comment">// 物理像素: 设备分辨率, 硬件真实存在的像素点</span><br>    <span class="hljs-comment">// 逻辑像素(咱们的css像素)：document.documentElement.clientWidth</span><br>    <span class="hljs-comment">// 可查看 移动端html --&gt; 375 iphone6</span><br>    <span class="hljs-keyword">var</span> dpr = <span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span> || <span class="hljs-number">1</span><br><br>    <span class="hljs-comment">//! 1. adjust body font size  设置我们 body 的字体大小</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">setBodyFontSize</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-comment">// 如果页面中有body 这个元素 就设置body的字体大小</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>) &#123;  <span class="hljs-comment">// 1 2 3</span><br>            <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">fontSize</span> = (<span class="hljs-number">12</span> * dpr) + <span class="hljs-string">&#x27;px&#x27;</span><br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// 如果页面中没有body 这个元素，则等着 我们页面主要的DOM元素加载完毕再去设置body</span><br>            <span class="hljs-comment">// 的字体大小</span><br>            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;DOMContentLoaded&#x27;</span>, setBodyFontSize)<br>        &#125;<br>    &#125;<br>    <span class="hljs-title function_">setBodyFontSize</span>();<br><br>    <span class="hljs-comment">//! 2. set 1rem = viewWidth / 10  设置我们html元素的字体大小, 即设置rem的基本单位像素</span><br>    <span class="hljs-comment">// rem是相对单位，是相对html根元素。</span><br>    <span class="hljs-comment">// 通过它既可以做到只修改根元素就成比例地调整所有字体大小</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">setRemUnit</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">var</span> rem = docEl.<span class="hljs-property">clientWidth</span> / <span class="hljs-number">10</span><br>        docEl.<span class="hljs-property">style</span>.<span class="hljs-property">fontSize</span> = rem + <span class="hljs-string">&#x27;px&#x27;</span><br>    &#125;<br><br>    <span class="hljs-title function_">setRemUnit</span>()<br><br>    <span class="hljs-comment">//! 3.当页面尺寸变化时, 重新设置rem</span><br>    <span class="hljs-comment">// reset rem unit on page resize  当我们页面尺寸大小发生变化的时候，要重新设置下rem 的大小</span><br>    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;resize&#x27;</span>, setRemUnit)<br>        <span class="hljs-comment">// pageshow 重新加载页面触发的事件 load事件 看视频</span><br>        <span class="hljs-comment">// pageshow 兼容火狐  load</span><br>    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;pageshow&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;<br>        <span class="hljs-comment">// e.persisted 返回的是true 就是说如果这个页面是从缓存取过来的页面，也需要从新计算一下rem 的大小</span><br>        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">persisted</span>) &#123;<br>            <span class="hljs-title function_">setRemUnit</span>()<br>        &#125;<br>    &#125;)<br><br>    <span class="hljs-comment">//! 4. 兼容0.5px处理 </span><br>    <span class="hljs-comment">// detect 0.5px supports  有些移动端的浏览器不支持0.5像素的写法</span><br>    <span class="hljs-keyword">if</span> (dpr &gt;= <span class="hljs-number">2</span>) &#123;<br>        <span class="hljs-comment">// https://zhuanlan.zhihu.com/p/371898337</span><br>        <span class="hljs-keyword">var</span> fakeBody = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;body&#x27;</span>)<br>        <span class="hljs-keyword">var</span> testElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;div&#x27;</span>)<br>        testElement.<span class="hljs-property">style</span>.<span class="hljs-property">border</span> = <span class="hljs-string">&#x27;.5px solid transparent&#x27;</span><br>        fakeBody.<span class="hljs-title function_">appendChild</span>(testElement)<br>        docEl.<span class="hljs-title function_">appendChild</span>(fakeBody)<br>        <span class="hljs-keyword">if</span> (testElement.<span class="hljs-property">offsetHeight</span> === <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-comment">// 真正生效的是hairlines这个样式</span><br>            <span class="hljs-comment">// 无法兼容安卓设备、 iOS 8 以下设备 // 2014</span><br>            docEl.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;hairlines&#x27;</span>)<br>        &#125;<br>        docEl.<span class="hljs-title function_">removeChild</span>(fakeBody)<br>    &#125;<br>&#125;(<span class="hljs-variable language_">window</span>, <span class="hljs-variable language_">document</span>))<br><br><span class="hljs-comment">//flexible作用:  我们可以用flexible 配合rem来做页面自适应.</span><br></code></pre></td></tr></table></figure>

<h3 id="4-元素尺寸与位置"><a href="#4-元素尺寸与位置" class="headerlink" title="4.元素尺寸与位置"></a>4.元素尺寸与位置</h3><h4 id="4-1使用场景"><a href="#4-1使用场景" class="headerlink" title="4.1使用场景"></a>4.1使用场景</h4><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102055628.png" srcset="/img/loading.gif" lazyload alt="image-20220726102055628"></p>
<h4 id="4-2元素尺寸于位置-尺寸"><a href="#4-2元素尺寸于位置-尺寸" class="headerlink" title="4.2元素尺寸于位置-尺寸"></a>4.2元素尺寸于位置-尺寸</h4><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102245644.png" srcset="/img/loading.gif" lazyload alt="image-20220726102245644"></p>
<p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102257277.png" srcset="/img/loading.gif" lazyload alt="image-20220726102257277"></p>
<h4 id="4-3总结"><a href="#4-3总结" class="headerlink" title="4.3总结"></a>4.3总结</h4><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102328027.png" srcset="/img/loading.gif" lazyload alt="image-20220726102328027"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.box</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">position</span>: relative;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background</span>: pink;</span><br><span class="language-css">        <span class="hljs-attribute">margin</span>: <span class="hljs-number">300px</span> auto;</span><br><span class="language-css">        <span class="hljs-comment">/* overflow: hidden; */</span></span><br><span class="language-css">        <span class="hljs-comment">/* padding: 20px; */</span></span><br><span class="language-css">        <span class="hljs-comment">/* border: 10px solid orange; */</span></span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.son</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">background-color</span>: palegreen;</span><br><span class="language-css">        <span class="hljs-comment">/* margin: 10px; */</span></span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;son&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 获取元素</span></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> box = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.box&#x27;</span>)</span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> son = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.son&#x27;</span>)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 1. offsetLeft / offsetTop </span></span><br><span class="language-javascript">    <span class="hljs-comment">// 获取元素距离最近一级带有定位父元素的位置</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 如果父元素没有定位, 获取的是相对于body的位置</span></span><br><span class="language-javascript">    <span class="hljs-comment">// console.log(box.offsetLeft)</span></span><br><span class="language-javascript">    <span class="hljs-comment">// console.log(box.offsetTop)</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(son.<span class="hljs-property">offsetLeft</span>)</span><br><span class="language-javascript">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(son.<span class="hljs-property">offsetTop</span>)</span><br><span class="language-javascript">    <span class="hljs-comment">// 重点: 是距离带有定位父元素的位置! 它只读属性, 不可以设置</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 2. offsetWidth / offsetHeight</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 可以得到元素的大小, offsetWidth 包含border</span></span><br><span class="language-javascript">    <span class="hljs-comment">// offsetWidth = width + padding + border</span></span><br><span class="language-javascript">    <span class="hljs-comment">// offsetHeight = height + padding + border</span></span><br><span class="language-javascript">    <span class="hljs-comment">// console.log(box.offsetWidth)</span></span><br><span class="language-javascript">    <span class="hljs-comment">// </span></span><br><span class="language-javascript">    <span class="hljs-comment">// 元素的大小  不包含border</span></span><br><span class="language-javascript">    <span class="hljs-comment">// clientWidth = width + padding</span></span><br><span class="language-javascript">    </span><br><span class="language-javascript"></span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="4-4案例"><a href="#4-4案例" class="headerlink" title="4.4案例"></a>4.4案例</h4><h5 id="4-4-1仿京东固定导航栏案例"><a href="#4-4-1仿京东固定导航栏案例" class="headerlink" title="4.4.1仿京东固定导航栏案例"></a>4.4.1仿京东固定导航栏案例</h5><h5 id="96"><a href="#96" class="headerlink" title="&#96;"></a><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102509123.png" srcset="/img/loading.gif" lazyload alt="image-20220726102509123">&#96;</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        * &#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">box-sizing</span>: border-box;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.content</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">overflow</span>: hidden;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">1000px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">3000px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: pink;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.backtop</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>: none;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">50px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">505px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">position</span>: fixed;</span><br><span class="language-css">            <span class="hljs-attribute">bottom</span>: <span class="hljs-number">60px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">z-index</span>: <span class="hljs-number">100</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.backtop</span> <span class="hljs-selector-tag">a</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">50px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">./images/bg2.png</span>) <span class="hljs-number">0</span> -<span class="hljs-number">600px</span> no-repeat;</span><br><span class="language-css">            <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.35</span>;</span><br><span class="language-css">            <span class="hljs-attribute">overflow</span>: hidden;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>: block;</span><br><span class="language-css">            <span class="hljs-attribute">text-indent</span>: -<span class="hljs-number">999em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">cursor</span>: pointer;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.header</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">position</span>: fixed;</span><br><span class="language-css">            <span class="hljs-attribute">top</span>: -<span class="hljs-number">80px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">80px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: purple;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;</span><br><span class="language-css">            <span class="hljs-attribute">line-height</span>: <span class="hljs-number">80px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">transition</span>: all .<span class="hljs-number">3s</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.sk</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: skyblue;</span><br><span class="language-css">            <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">500px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;</span>我是顶部导航栏<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sk&quot;</span>&gt;</span>秒杀模块<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;backtop&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./images/close2.png&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 获取元素</span></span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> box = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.sk&#x27;</span>)</span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> header = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.header&#x27;</span>)</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 1. 页面滚动事件</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;scroll&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// 当页面滚动到秒杀模块的时候， 就改变 header 的 top， ==&gt; 0</span></span><br><span class="language-javascript">            <span class="hljs-comment">// const n = document.documentElement.scrollTop</span></span><br><span class="language-javascript">            <span class="hljs-keyword">const</span> n = <span class="hljs-variable language_">window</span>.<span class="hljs-property">pageYOffset</span></span><br><span class="language-javascript">            <span class="hljs-comment">// if (n &gt;= box.offsetTop) &#123;</span></span><br><span class="language-javascript">            <span class="hljs-comment">//     header.style.top = 0</span></span><br><span class="language-javascript">            <span class="hljs-comment">// &#125; else &#123;</span></span><br><span class="language-javascript">            <span class="hljs-comment">//     // style一定不要忘了px</span></span><br><span class="language-javascript">            <span class="hljs-comment">//     header.style.top = &#x27;-80px&#x27;</span></span><br><span class="language-javascript">            <span class="hljs-comment">// &#125;</span></span><br><span class="language-javascript">            header.<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = n &gt;= box.<span class="hljs-property">offsetTop</span> ? <span class="hljs-number">0</span> : <span class="hljs-string">&#x27;-80px&#x27;</span></span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h5 id="4-4-2实现-bilibili-点击小滑块移动效果"><a href="#4-4-2实现-bilibili-点击小滑块移动效果" class="headerlink" title="4.4.2实现 bilibili 点击小滑块移动效果"></a>4.4.2实现 bilibili 点击小滑块移动效果</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br>  <span class="hljs-comment">// 1. 事件委托的方式, 给父元素绑定</span><br>  <span class="hljs-keyword">const</span> list = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.tabs-list&#x27;</span>)<br>  <span class="hljs-keyword">const</span> line = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.line&#x27;</span>)<br><br>  <span class="hljs-comment">// 2. 给list注册点击事件</span><br>  list.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<br>    <span class="hljs-comment">// 判断, 只有点击了A标签的时候, 才执行后面的逻辑</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>)<br>    <span class="hljs-comment">// e.target  触发事件的元素</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">dir</span>(e.<span class="hljs-property">target</span>)<br>    <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-property">tagName</span> === <span class="hljs-string">&#x27;A&#x27;</span>) &#123;<br>      <span class="hljs-comment">//  把当前点击a标签距离左侧的位置, 给line的translateX</span><br>      <span class="hljs-comment">// console.log(e.target.offsetLeft)</span><br>      line.<span class="hljs-property">style</span>.<span class="hljs-property">transform</span> = <span class="hljs-string">`translateX(<span class="hljs-subst">$&#123;e.target.offsetLeft&#125;</span>px)`</span><br>    &#125;<br>    <br>  &#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h4 id="4-5获取元素大小位置的另外方法"><a href="#4-5获取元素大小位置的另外方法" class="headerlink" title="4.5获取元素大小位置的另外方法"></a>4.5获取元素大小位置的另外方法</h4><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102729656.png" srcset="/img/loading.gif" lazyload alt="image-20220726102729656"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-tag">body</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">height</span>: <span class="hljs-number">2000px</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-tag">div</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">background-color</span>: pink;</span><br><span class="language-css">      <span class="hljs-attribute">margin</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">border</span>: <span class="hljs-number">10px</span> solid red;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;div&#x27;</span>)</span><br><span class="language-javascript">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(div.<span class="hljs-title function_">getBoundingClientRect</span>())</span><br><span class="language-javascript">    <span class="hljs-comment">// y / top 元素 相对于视口顶部的位置</span></span><br><span class="language-javascript">    <span class="hljs-comment">// x / left  相对于视口左侧的位置</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// width / height  ==&gt; width + padding + border</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 同： offsetWidth</span></span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="4-6总结"><a href="#4-6总结" class="headerlink" title="4.6总结"></a>4.6总结</h4><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102813006.png" srcset="/img/loading.gif" lazyload alt="image-20220726102813006"></p>
<h2 id="四、属性选择器"><a href="#四、属性选择器" class="headerlink" title="四、属性选择器"></a>四、属性选择器</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    <span class="hljs-comment">/* input[value] &#123;</span></span><br><span class="hljs-comment"><span class="language-css">      color: red;</span></span><br><span class="hljs-comment"><span class="language-css">    &#125; */</span></span><br><span class="language-css">    <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=text]</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">color</span>: red;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123&quot;</span> <span class="hljs-attr">data-id</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">data-name</span>=<span class="hljs-string">&quot;andy&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> input = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;input[data-id]&#x27;</span>)</span><br><span class="language-javascript">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(input)</span><br><span class="language-javascript">    </span><br><span class="language-javascript">    <span class="hljs-comment">// 属性选择器</span></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> pwd = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;input[type=&quot;password&quot;]&#x27;</span>)</span><br><span class="language-javascript">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(pwd)</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> input = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;input[value]&#x27;</span>)</span><br><span class="language-javascript">    <span class="hljs-comment">// console.log(input)</span></span><br><span class="language-javascript">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(input.<span class="hljs-property">dataset</span>) <span class="hljs-comment">// 自定义属性集合</span></span><br><span class="language-javascript">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(input.<span class="hljs-property">dataset</span>.<span class="hljs-property">name</span>) <span class="hljs-comment">// 自定义属性集合</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="五、立即执行函数"><a href="#五、立即执行函数" class="headerlink" title="五、立即执行函数"></a>五、立即执行函数</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 立即执行函数   (IIFE) , 也叫做自执行函数</span></span><br><span class="language-javascript">        <span class="hljs-comment">// Immdiately-Invoked Function Expression</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 1. 普通函数 , 先声明, 后调用</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;我很平凡&#x27;</span>)</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-title function_">fn</span>()</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 2. 立即执行函数, 不需要调用, 立马执行的函数</span></span><br><span class="language-javascript">        <span class="hljs-comment">// 方式一</span></span><br><span class="language-javascript">        ;(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-comment">/* code */</span>&#125;)()</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 方式二</span></span><br><span class="language-javascript">        ;(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-comment">/* code */</span>&#125;())</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 3. 多个立即执行函数之间, 分号隔开</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 4. 立即执行函数 也可以传入参数</span></span><br><span class="language-javascript">        ;(<span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a + b)</span><br><span class="language-javascript">        &#125;)(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 5. 立即执行函数的作用</span></span><br><span class="language-javascript">        <span class="hljs-comment">// 创建独立的作用域， 不会有命名冲突的情况. </span></span><br><span class="language-javascript">        <span class="hljs-comment">// 一些插件， 老的一些库， 就是用立即执行函数包裹起来的。 </span></span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">        </span><br><span class="language-javascript">        <span class="hljs-comment">// 什么时候需要加分号? </span></span><br><span class="language-javascript">        <span class="hljs-comment">// ;()</span></span><br><span class="language-javascript">        <span class="hljs-comment">// ;[]</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h2 id="五、综合案例"><a href="#五、综合案例" class="headerlink" title="五、综合案例"></a>五、综合案例</h2><p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726102856105.png" srcset="/img/loading.gif" lazyload alt="image-20220726102856105"></p>
<p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726103302806.png" srcset="/img/loading.gif" lazyload alt="image-20220726103302806"></p>
<p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726103309022.png" srcset="/img/loading.gif" lazyload alt="image-20220726103309022"></p>
<p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726103318320.png" srcset="/img/loading.gif" lazyload alt="image-20220726103318320"></p>
<p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726103325763.png" srcset="/img/loading.gif" lazyload alt="image-20220726103325763"></p>
<p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726103331737.png" srcset="/img/loading.gif" lazyload alt="image-20220726103331737"></p>
<p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726103340941.png" srcset="/img/loading.gif" lazyload alt="image-20220726103340941"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br><br>   <span class="hljs-comment">// 第一个模块, 页面滑动, 显示隐藏右侧的电梯导航</span><br>   ;(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>         <span class="hljs-comment">// 1. 获取元素</span><br>         <span class="hljs-keyword">const</span> elevator = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.xtx-elevator&#x27;</span>)<br>         <span class="hljs-keyword">const</span> entry = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.xtx_entry&#x27;</span>)<br>         <span class="hljs-comment">// 2. 给页面注册滚动事件</span><br>         <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;scroll&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>           <span class="hljs-comment">// 3. 判断， 当页面滚动的距离 大于等于 300px 就让 elevator显示</span><br>             <span class="hljs-comment">// const n = document.documentElement.scrollTop</span><br>             <span class="hljs-keyword">const</span> n = <span class="hljs-variable language_">window</span>.<span class="hljs-property">pageYOffset</span><br>             elevator.<span class="hljs-property">style</span>.<span class="hljs-property">opacity</span> = n &gt;= entry.<span class="hljs-property">offsetTop</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span><br>         &#125;)<br><br>         <span class="hljs-comment">// 点击返回页面顶部</span><br>         <span class="hljs-keyword">const</span> backTop = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#backTop&#x27;</span>)<br>         backTop.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>           <span class="hljs-comment">// 1. scrollTop 可读写</span><br>           <span class="hljs-comment">// document.documentElement.scrollTop = 0</span><br><br>           <span class="hljs-comment">// 2. window.scroll() / window.scrollTo()</span><br>           <span class="hljs-comment">//   window.scroll(x, y)</span><br>           <span class="hljs-comment">// window.scroll(0, 0)</span><br><br>           <span class="hljs-comment">// 3. 设置滚动行为改为平滑的滚动</span><br>             <span class="hljs-comment">// window.scrollTo(&#123;</span><br>             <span class="hljs-comment">//     top: 0,</span><br>             <span class="hljs-comment">//     behavior: &quot;smooth&quot; // 平滑 safari 不支持平滑</span><br>             <span class="hljs-comment">// &#125;)</span><br>             <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">scroll</span>(&#123;<br>                 <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>,<br>                 <span class="hljs-attr">behavior</span>: <span class="hljs-string">&quot;smooth&quot;</span> <span class="hljs-comment">// 平滑 safari 不支持平滑</span><br>             &#125;)<br>         &#125;)<br>   &#125;)()<br><br> <span class="hljs-comment">// 2. 点击右侧的电梯导航, 让页面滚动到对应的模块</span><br> ;(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>     <span class="hljs-comment">// 获取a标签的公共父元素 ul</span><br>     <span class="hljs-keyword">const</span> list = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.xtx-elevator-list&#x27;</span>)<br>     list.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<br>       <span class="hljs-comment">// 判断是否点击的是A标签</span><br>       <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-property">tagName</span> === <span class="hljs-string">&#x27;A&#x27;</span> &amp;&amp; e.<span class="hljs-property">target</span>.<span class="hljs-property">dataset</span>.<span class="hljs-property">name</span>) &#123;<br>         <span class="hljs-comment">// 排他思想, </span><br>         <span class="hljs-comment">// 1.如果原来有active类名, 就移除类,</span><br>         <span class="hljs-keyword">const</span> old = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.xtx-elevator-list .active&#x27;</span>)<br>         <span class="hljs-comment">// 简写==&gt; 如果if后面只有一句话, 可以省略括号 &#123;&#125;</span><br>         <span class="hljs-keyword">if</span> (old) old.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;active&#x27;</span>)<br>         <span class="hljs-comment">// 2. 给自己添加</span><br>         <span class="hljs-comment">// 让当前点击的那个a标签, 添加active</span><br>         e.<span class="hljs-property">target</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;active&#x27;</span>)<br><br>				<span class="hljs-comment">// 获取自定义属性</span><br>				<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>()<br>				<span class="hljs-keyword">const</span> id = e.<span class="hljs-property">target</span>.<span class="hljs-property">dataset</span>.<span class="hljs-property">name</span><br>				<span class="hljs-comment">// 利用点击的那个元素的自定义属性, 我们可以找到对应的大盒子</span><br>				<span class="hljs-keyword">const</span> top = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">`.xtx_goods_<span class="hljs-subst">$&#123;id&#125;</span>`</span>).<span class="hljs-property">offsetTop</span><br>				<span class="hljs-comment">// 让页面滚动到对应的位置</span><br>				<span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">scrollTop</span> = top<br>       &#125;<br>     &#125;)<br> &#125;())<br><br><span class="hljs-comment">// 3. 页面滚动, 可以根据大盒子 选择哪个a标签高亮</span><br>;(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>	<span class="hljs-comment">// 获取4个大盒子</span><br>	<span class="hljs-keyword">const</span> news = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.xtx_goods_new&#x27;</span>)<br>	<span class="hljs-keyword">const</span> popular = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.xtx_goods_popular&#x27;</span>)<br>	<span class="hljs-keyword">const</span> brand = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.xtx_goods_brand&#x27;</span>)<br>	<span class="hljs-keyword">const</span> topic = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.xtx_goods_topic&#x27;</span>)<br><br>	<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;scroll&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>				<span class="hljs-comment">// 3.1 先移除类</span><br>		    <span class="hljs-comment">// 1.如果原来有active类名, 就移除类,</span><br>				<span class="hljs-keyword">const</span> old = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.xtx-elevator-list .active&#x27;</span>)<br>         <span class="hljs-comment">// 简写==&gt; 如果if后面只有一句话, 可以省略括号 &#123;&#125;</span><br>         <span class="hljs-keyword">if</span> (old) old.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;active&#x27;</span>)<br>				<span class="hljs-comment">// 3.2 判断页面滑动的位置, 处于某两个中间, 让对应的小盒子高亮</span><br>				<span class="hljs-comment">// 页面被卷去的头部</span><br>				<span class="hljs-keyword">const</span> n = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">scrollTop</span><br>				<br>				<span class="hljs-keyword">if</span> (n &gt;= news.<span class="hljs-property">offsetTop</span> &amp;&amp; n &lt; popular.<span class="hljs-property">offsetTop</span>) &#123;<br>					<span class="hljs-comment">// 让第一个a标签高亮</span><br>					<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;[data-name=&quot;new&quot;]&#x27;</span>).<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;active&#x27;</span>)<br>				&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n &gt;= popular.<span class="hljs-property">offsetTop</span> &amp;&amp; n &lt; brand.<span class="hljs-property">offsetTop</span>) &#123;<br>					<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;[data-name=popular]&#x27;</span>).<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;active&#x27;</span>)<br>				&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n &gt;= brand.<span class="hljs-property">offsetTop</span> &amp;&amp; n &lt; topic.<span class="hljs-property">offsetTop</span>) &#123;<br>					<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;[data-name=brand]&#x27;</span>).<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;active&#x27;</span>)<br>				&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n &gt;= topic.<span class="hljs-property">offsetTop</span>) &#123;<br>					<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;[data-name=topic]&#x27;</span>).<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;active&#x27;</span>)<br>				&#125;<br><br>	&#125;)<br>&#125;)()<br> &lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h2 id="六、作业"><a href="#六、作业" class="headerlink" title="六、作业"></a>六、作业</h2><p> PC： <a target="_blank" rel="noopener" href="https://ks.wjx.top/vj/wmkituU.aspx">https://ks.wjx.top/vj/wmkituU.aspx</a></p>
<p><img src="/Web%20APIs%20%E7%AC%AC%E4%B8%89%E5%A4%A9%20Dom%E4%BA%8B%E4%BB%B6%E8%BF%9B%E9%98%B6.assets/image-20220726103436472.png" srcset="/img/loading.gif" lazyload alt="image-20220726103436472"></p>


  

</article>



              </div>
            </div>
          </div>
        </div>
      </div>
    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
